"use strict";angular.module("ui.gravatar",["md5"]).provider("gravatarService",[function(){var a;return a=this,this.defaults={},this.secure=!1,this.$get=["md5",function(b){return{url:function(c,d){var e,f,g,h,i;return null==d&&(d={}),d=angular.extend(a.defaults,d),h=a.secure?"https://secure":"http://www",g=[h,".gravatar.com/avatar/",b(c)],f=function(){var a;a=[];for(e in d)i=d[e],a.push(""+e+"="+escape(i));return a}().join("&"),f.length>0&&g.push("?"+f),g.join("")}}}],this}]).directive("gravatarSrc",["gravatarService",function(a){var b;return b=function(a,b){var c,d,e;d={};for(c in b)e=b[c],0===c.indexOf(a)&&(c=c.substr(a.length).toLowerCase(),c.length>0&&(d[c]=e));return d},{restrict:"A",link:function(c,d,e){var f;return f=b("gravatar",e),delete f.src,c.$watch(e.gravatarSrc,function(b){return null!=b?d.attr("src",a.url(b,f)):void 0})}}}]);